#!/bin/bash
# Copyright (c) 2019-2020 P3TERX <https://p3terx.com>
# DIYæ‰©å±•äºŒåˆä¸€äº†ï¼Œåœ¨æ­¤å¤„å¯ä»¥å¢žåŠ æ’ä»¶
# è‡ªè¡Œæ‹‰å–æ’ä»¶ä¹‹å‰è¯·SSHè¿žæŽ¥è¿›å…¥å›ºä»¶é…ç½®é‡Œé¢ç¡®è®¤è¿‡æ²¡æœ‰ä½ è¦çš„æ’ä»¶å†å•ç‹¬æ‹‰å–ä½ éœ€è¦çš„æ’ä»¶
# ä¸è¦ä¸€ä¸‹å°±æ‹‰å–åˆ«äººä¸€ä¸ªæ’ä»¶åŒ…Nå¤šæ’ä»¶çš„ï¼Œå¤šäº†æ²¡ç”¨ï¼Œå¢žåŠ ç¼–è¯‘é”™è¯¯ï¼Œè‡ªå·±éœ€è¦çš„æ‰å¥½

# ðŸŒæ›´æ–°ä¸‹è½½åœ°å€ï¼š  https://github.com/zuifengguai/ZUIKE-OpenWrt/releases
#ã€2025æ›´æ–°ã€‘å†…æ ¸x86_64ä½OpenWrtå›ºä»¶ ç¨³å®šç‰ˆ
#AdGuardHomeå¹¿å‘Šæ‹¦æˆªluci-app-adguardhome
#argoneä¸»é¢˜é…ç½®luci-app-argon-config 
#é‡å¯luci-app-autoreboot Â  Â  Â  Â  
#å®šæ—¶æ›´æ–°æ’ä»¶ï¼ˆè‡ªåŠ¨æ›´æ–°å›ºä»¶ï¼‰luci-app-autoupdate Â  Â  Â  Â 
#DiskMan ç£ç›˜ç®¡ç†ï¼ˆdockeræ‹“å±•éœ€è¦ï¼‰  luci-app-diskman Â  Â  Â  Â  
#docker   luci-app-dockerman Â  Â  Â  Â  
#æ–‡ä»¶ä¼ è¾“luci-app-filetransfer Â  Â  Â  Â  
#æ·»åŠ é˜²ç«å¢™luci-app-firewall Â  Â  Â  Â  
#MosDNSã€DNSåˆ†æµå·¥å…·ã€‘luci-app-mosdns Â  Â  Â  Â  
#Netdataå®žæ—¶ç›‘æŽ§luci-app-netdata Â  Â  Â  Â  
#Openclash  luci-app-openclash Â  Â  Â  Â  
#passwall  luci-app-passwall Â  Â  Â  Â  
#å…³æœºluci-app-poweroff Â  Â  Â  Â  
# å…¨èƒ½æŽ¨é€Â luci-app-pushbot Â  Â  
#é‡Šæ”¾å†…å­˜  luci-app-ramfree Â  Â  Â  Â  
#ttyd  luci-app-ttyd Â  Â  Â  Â  
#é€šç”¨å³æ’å³ç”¨ï¼ˆUPnPï¼‰  luci-app-upnpÂ  Â  Â  Â  Â  
#å¸¦argonä¸»é¢˜  luci-theme-argon       
# âœ…æ›´æ–°ç‰ˆæœ¬ï¼šLede-x86-64ã€Œå‡çº§åˆ°2025.3.14æœ€æ–°ã€
# âœ…æ›´æ–°ç‰ˆæœ¬ï¼šImmortalwrt-x86-64ã€Œå‡çº§åˆ°2025.3.14æœ€æ–°ã€ã€Œåœ¨åŽŸæ¥æ’ä»¶é‡Œå¢žåŠ äº†Nikkiæ’ä»¶luci-app-nikkiã€
# â€¼ï¸Ledeåœ¨æ›´æ–°å‡ æ¬¡åŽä¸åœ¨æ›´æ–°ï¼Œè½¬å…¥Immortalwrt

# åŽå°IPè®¾ç½®
export Ipv4_ipaddr="192.168.5.1"            # ä¿®æ”¹openwrtåŽå°åœ°å€(å¡«0ä¸ºå…³é—­)
export Netmask_netm="255.255.255.0"         # IPv4 å­ç½‘æŽ©ç ï¼ˆé»˜è®¤ï¼š255.255.255.0ï¼‰(å¡«0ä¸ºä¸ä½œä¿®æ”¹)
export Op_name="Zuike"                # ä¿®æ”¹ä¸»æœºåç§°ä¸ºOpenWrt(å¡«0ä¸ºä¸ä½œä¿®æ”¹)

# å†…æ ¸å’Œç³»ç»Ÿåˆ†åŒºå¤§å°(ä¸æ˜¯æ¯ä¸ªæœºåž‹éƒ½å¯ç”¨)
export Kernel_partition_size="256"            # å†…æ ¸åˆ†åŒºå¤§å°,æ¯ä¸ªæœºåž‹é»˜è®¤å€¼ä¸ä¸€æ · (å¡«å†™æ‚¨æƒ³è¦çš„æ•°å€¼,é»˜è®¤ä¸€èˆ¬16,æ•°å€¼ä»¥MBè®¡ç®—ï¼Œå¡«0ä¸ºä¸ä½œä¿®æ”¹),å¦‚æžœä½ ä¸æ‡‚å°±å¡«0
export Rootfs_partition_size="960"            # ç³»ç»Ÿåˆ†åŒºå¤§å°,æ¯ä¸ªæœºåž‹é»˜è®¤å€¼ä¸ä¸€æ · (å¡«å†™æ‚¨æƒ³è¦çš„æ•°å€¼,é»˜è®¤ä¸€èˆ¬300å·¦å³,æ•°å€¼ä»¥MBè®¡ç®—ï¼Œå¡«0ä¸ºä¸ä½œä¿®æ”¹),å¦‚æžœä½ ä¸æ‡‚å°±å¡«0

# é»˜è®¤ä¸»é¢˜è®¾ç½®
export Mandatory_theme="argon"              # å°†bootstrapæ›¿æ¢æ‚¨éœ€è¦çš„ä¸»é¢˜ä¸ºå¿…é€‰ä¸»é¢˜(å¯è‡ªè¡Œæ›´æ”¹æ‚¨è¦çš„,æºç è¦å¸¦æ­¤ä¸»é¢˜å°±è¡Œ,å¡«å†™åç§°ä¹Ÿè¦å†™å¯¹) (å¡«å†™ä¸»é¢˜åç§°,å¡«0ä¸ºä¸ä½œä¿®æ”¹)
export Default_theme="argon"                # å¤šä¸»é¢˜æ—¶,é€‰æ‹©æŸä¸»é¢˜ä¸ºé»˜è®¤ç¬¬ä¸€ä¸»é¢˜ (å¡«å†™ä¸»é¢˜åç§°,å¡«0ä¸ºä¸ä½œä¿®æ”¹)

# æ—è·¯ç”±é€‰é¡¹
export Gateway_Settings="0"                 # æ—è·¯ç”±è®¾ç½® IPv4 ç½‘å…³(å¡«å…¥æ‚¨çš„ç½‘å…³IPä¸ºå¯ç”¨)(å¡«0ä¸ºä¸ä½œä¿®æ”¹)
export DNS_Settings="0"                     # æ—è·¯ç”±è®¾ç½® DNS(å¡«å…¥DNSï¼Œå¤šä¸ªDNSè¦ç”¨ç©ºæ ¼åˆ†å¼€)(å¡«0ä¸ºä¸ä½œä¿®æ”¹)
export Broadcast_Ipv4="0"                   # è®¾ç½® IPv4 å¹¿æ’­(å¡«å…¥æ‚¨çš„IPä¸ºå¯ç”¨)(å¡«0ä¸ºä¸ä½œä¿®æ”¹)
export Disable_DHCP="0"                     # æ—è·¯ç”±å…³é—­DHCPåŠŸèƒ½(1ä¸ºå¯ç”¨å‘½ä»¤,å¡«0ä¸ºä¸ä½œä¿®æ”¹)
export Disable_Bridge="0"                   # æ—è·¯ç”±åŽ»æŽ‰æ¡¥æŽ¥æ¨¡å¼(1ä¸ºå¯ç”¨å‘½ä»¤,å¡«0ä¸ºä¸ä½œä¿®æ”¹)
export Create_Ipv6_Lan="1"                  # çˆ±å¿«+OPåŒç³»ç»Ÿæ—¶,çˆ±å¿«æŽ¥ç®¡IPV6,åœ¨OPåˆ›å»ºIPV6çš„lanå£æŽ¥æ”¶IPV6ä¿¡æ¯(1ä¸ºå¯ç”¨å‘½ä»¤,å¡«0ä¸ºä¸ä½œä¿®æ”¹)

# IPV6ã€IPV4 é€‰æ‹©
export Enable_IPV6_function="1"             # ç¼–è¯‘IPV6å›ºä»¶(1ä¸ºå¯ç”¨å‘½ä»¤,å¡«0ä¸ºä¸ä½œä¿®æ”¹)(å¦‚æžœè·ŸCreate_Ipv6_Lanä¸€èµ·å¯ç”¨å‘½ä»¤çš„è¯,Create_Ipv6_Lanå‘½ä»¤ä¼šè‡ªåŠ¨å…³é—­)
export Enable_IPV4_function="1"             # ç¼–è¯‘IPV4å›ºä»¶(1ä¸ºå¯ç”¨å‘½ä»¤,å¡«0ä¸ºä¸ä½œä¿®æ”¹)(å¦‚æžœè·ŸEnable_IPV6_functionä¸€èµ·å¯ç”¨å‘½ä»¤çš„è¯,æ­¤å‘½ä»¤ä¼šè‡ªåŠ¨å…³é—­)

# æ›¿æ¢passwallçš„æºç (é»˜è®¤luciåˆ†æ”¯)
export PassWall_luci_branch="0"             # passwallçš„æºç åˆ†åˆ«æœ‰ã€luciåˆ†æ”¯ã€‘å’Œã€luci-smartdns-new-versionåˆ†æ”¯ã€‘(å¡«0ä¸ºä½¿ç”¨luciåˆ†æ”¯,å¡«1ä¸ºä½¿ç”¨luci-smartdns-new-versionåˆ†æ”¯)


# ä¸ªæ€§ç­¾å,é»˜è®¤å¢žåŠ å¹´æœˆæ—¥[$(TZ=UTC-8 date "+%Y.%m.%d")]
export Customized_Information="ZUIKE_Q7s by x86 build $(TZ=UTC-8 date "+%Y.%m.%d")"  # ä¸ªæ€§ç­¾å,ä½ æƒ³å†™å•¥å°±å†™å•¥ï¼Œ(å¡«0ä¸ºä¸ä½œä¿®æ”¹)

# æ›´æ¢å›ºä»¶å†…æ ¸
export Replace_Kernel="0"                    # æ›´æ¢å†…æ ¸ç‰ˆæœ¬,åœ¨å¯¹åº”æºç çš„[target/linux/æž¶æž„]æŸ¥çœ‹patches-x.x,çœ‹çœ‹x.xæœ‰å•¥å°±æœ‰å•¥å†…æ ¸äº†(å¡«å…¥å†…æ ¸x.xç‰ˆæœ¬å·,å¡«0ä¸ºä¸ä½œä¿®æ”¹)

# è®¾ç½®å…å¯†ç ç™»å½•(ä¸ªåˆ«æºç æœ¬èº«å°±æ²¡å¯†ç çš„)
export Password_free_login="1"               # è®¾ç½®é¦–æ¬¡ç™»å½•åŽå°å¯†ç ä¸ºç©ºï¼ˆè¿›å…¥openwrtåŽè‡ªè¡Œä¿®æ”¹å¯†ç ï¼‰(1ä¸ºå¯ç”¨å‘½ä»¤,å¡«0ä¸ºä¸ä½œä¿®æ”¹)

# æ›¿æ¢OpenClashçš„æºç (é»˜è®¤masteråˆ†æ”¯)
export OpenClash_branch="0"                 # OpenClashçš„æºç åˆ†åˆ«æœ‰ã€masteråˆ†æ”¯ã€‘å’Œã€devåˆ†æ”¯ã€‘(å¡«0ä¸ºä½¿ç”¨masteråˆ†æ”¯,å¡«1ä¸ºä½¿ç”¨devåˆ†æ”¯)
export OpenClash_Core="2"                   # å¢žåŠ OpenClashæ—¶,æŠŠæ ¸å¿ƒä¸‹è½½å¥½,(å¡«1ä¸ºä¸‹è½½ã€devå•æ ¸ã€‘,å¡«2ä¸ºä¸‹è½½ã€dev/meta/premiumä¸‰æ ¸ã€‘,å¡«0ä¸ºä¸éœ€è¦æ ¸å¿ƒ)

# å¢žåŠ AdGuardHomeæ’ä»¶å’Œæ ¸å¿ƒ
export AdGuardHome_Core="1"                  # ç¼–è¯‘å›ºä»¶æ—¶è‡ªåŠ¨å¢žåŠ AdGuardHomeæ’ä»¶å’ŒAdGuardHomeæ’ä»¶æ ¸å¿ƒ,éœ€è¦æ³¨æ„çš„æ˜¯ä¸€ä¸ªæ ¸å¿ƒ20å¤šMBçš„,å°é—ªå­˜æœºå­æžä¸æ¥(1ä¸ºå¯ç”¨å‘½ä»¤,å¡«0ä¸ºä¸ä½œä¿®æ”¹)

# ç¦ç”¨ssrpluså’Œpasswallçš„NaiveProxy
export Disable_NaiveProxy="1"                # å› ä¸ªåˆ«æºç çš„åˆ†æ”¯ä¸æ”¯æŒç¼–è¯‘NaiveProxy,ä¸å°å¿ƒé€‰æ‹©äº†å°±ç¼–è¯‘é”™è¯¯äº†,ä¸ºå‡å°‘é”™è¯¯,æ‰“å¼€è¿™ä¸ªé€‰é¡¹åŽ,å°±ç®—é€‰æ‹©äº†NaiveProxyä¹Ÿä¼šæŠŠNaiveProxyå¹²æŽ‰ä¸è¿›è¡Œç¼–è¯‘çš„(1ä¸ºå¯ç”¨å‘½ä»¤,å¡«0ä¸ºä¸ä½œä¿®æ”¹)

# å¼€å¯NTFSæ ¼å¼ç›˜æŒ‚è½½
export Automatic_Mount_Settings="0"          # ç¼–è¯‘æ—¶åŠ å…¥å¼€å¯NTFSæ ¼å¼ç›˜æŒ‚è½½çš„æ‰€éœ€ä¾èµ–(1ä¸ºå¯ç”¨å‘½ä»¤,å¡«0ä¸ºä¸ä½œä¿®æ”¹)

# åŽ»é™¤ç½‘ç»œå…±äº«(autosamba)
export Disable_autosamba="1"                 # åŽ»æŽ‰æºç é»˜è®¤è‡ªé€‰çš„luci-app-sambaæˆ–luci-app-samba4(1ä¸ºå¯ç”¨å‘½ä»¤,å¡«0ä¸ºä¸ä½œä¿®æ”¹)

# å…¶ä»–
export Ttyd_account_free_login="0"           # è®¾ç½®ttydå…å¯†ç™»å½•(1ä¸ºå¯ç”¨å‘½ä»¤,å¡«0ä¸ºä¸ä½œä¿®æ”¹)
export Delete_unnecessary_items="0"          # ä¸ªåˆ«æœºåž‹å†…ä¸€å †å…¶ä»–æœºåž‹å›ºä»¶,åˆ é™¤å…¶ä»–æœºåž‹çš„,åªä¿ç•™å½“å‰ä¸»æœºåž‹å›ºä»¶(1ä¸ºå¯ç”¨å‘½ä»¤,å¡«0ä¸ºä¸ä½œä¿®æ”¹)
export Disable_53_redirection="0"            # åˆ é™¤DNSå¼ºåˆ¶é‡å®šå‘53ç«¯å£é˜²ç«å¢™è§„åˆ™(ä¸ªåˆ«æºç æœ¬èº«ä¸å¸¦æ­¤åŠŸèƒ½)(1ä¸ºå¯ç”¨å‘½ä»¤,å¡«0ä¸ºä¸ä½œä¿®æ”¹)
export Cancel_running="0"                    # å–æ¶ˆè·¯ç”±å™¨æ¯å¤©è·‘åˆ†ä»»åŠ¡(ä¸ªåˆ«æºç æœ¬èº«ä¸å¸¦æ­¤åŠŸèƒ½)(1ä¸ºå¯ç”¨å‘½ä»¤,å¡«0ä¸ºä¸ä½œä¿®æ”¹)


# æ™¶æ™¨CPUç³»åˆ—æ‰“åŒ…å›ºä»¶è®¾ç½®(ä¸æ‡‚è¯·çœ‹è¯´æ˜Ž)
export amlogic_model="s905d"
export amlogic_kernel="5.10.01_6.1.01"
export auto_kernel="true"
export rootfs_size="2560"
export kernel_usage="stable"


# ä¿®æ”¹æ’ä»¶åå­—
# sed -i 's/"ç»ˆç«¯"/"TTYD"/g' `egrep "ç»ˆç«¯" -rl ./`
# sed -i 's/"aMuleè®¾ç½®"/"ç”µé©´ä¸‹è½½"/g' `egrep "aMuleè®¾ç½®" -rl ./`
# sed -i 's/"ç½‘ç»œå­˜å‚¨"/"NAS"/g' `egrep "ç½‘ç»œå­˜å‚¨" -rl ./`
# sed -i 's/"Turbo ACC ç½‘ç»œåŠ é€Ÿ"/"ç½‘ç»œåŠ é€Ÿ"/g' `egrep "Turbo ACC ç½‘ç»œåŠ é€Ÿ" -rl ./`
# sed -i 's/"å®žæ—¶æµé‡ç›‘æµ‹"/"æµé‡"/g' `egrep "å®žæ—¶æµé‡ç›‘æµ‹" -rl ./`
# sed -i 's/"KMS æœåŠ¡å™¨"/"KMSæ¿€æ´»"/g' `egrep "KMS æœåŠ¡å™¨" -rl ./`
# sed -i 's/"TTYD ç»ˆç«¯"/"TTYD"/g' `egrep "TTYD ç»ˆç«¯" -rl ./`
# sed -i 's/"USB æ‰“å°æœåŠ¡å™¨"/"æ‰“å°æœåŠ¡"/g' `egrep "USB æ‰“å°æœåŠ¡å™¨" -rl ./`
# sed -i 's/"Web ç®¡ç†"/"Webç®¡ç†"/g' `egrep "Web ç®¡ç†" -rl ./`
# sed -i 's/"ç®¡ç†æƒ"/"æ”¹å¯†ç "/g' `egrep "ç®¡ç†æƒ" -rl ./`
# sed -i 's/"å¸¦å®½ç›‘æŽ§"/"ç›‘æŽ§"/g' `egrep "å¸¦å®½ç›‘æŽ§" -rl ./`


# æ•´ç†å›ºä»¶åŒ…æ—¶å€™,åˆ é™¤æ‚¨ä¸æƒ³è¦çš„å›ºä»¶æˆ–è€…æ–‡ä»¶,è®©å®ƒä¸éœ€è¦ä¸Šä¼ åˆ°Actionsç©ºé—´(æ ¹æ®ç¼–è¯‘æœºåž‹å˜åŒ–,è‡ªè¡Œè°ƒæ•´åˆ é™¤åç§°)
cat >"$CLEAR_PATH" <<-EOF
packages
config.buildinfo
feeds.buildinfo
sha256sums
version.buildinfo
profiles.json
openwrt-x86-64-generic-kernel.bin
openwrt-x86-64-generic.manifest
openwrt-x86-64-generic-squashfs-rootfs.img.gz
EOF

# åœ¨çº¿æ›´æ–°æ—¶ï¼Œåˆ é™¤ä¸æƒ³ä¿ç•™å›ºä»¶çš„æŸä¸ªæ–‡ä»¶ï¼Œåœ¨EOFè·ŸEOFä¹‹é—´åŠ å…¥åˆ é™¤ä»£ç ï¼Œè®°ä½è¿™é‡Œå¯¹åº”çš„æ˜¯å›ºä»¶çš„æ–‡ä»¶è·¯å¾„ï¼Œæ¯”å¦‚ï¼š rm -rf /etc/config/luci
cat >>$DELETE <<-EOF
EOF
